
/* ===== Theme System (Morandi) ===== */
:root {
  --bg-main: #fdfbf7;
  --card-bg: #ffffff;
  --border-main: #e5e7eb;
  --text-main: #4b5563;
  --accent: #c4a484;
}

.theme-purple { --bg-main: #f5f2f6; --accent: #8a7aa8; }
.theme-blue   { --bg-main: #f2f6f8; --accent: #6f8fa3; }
.theme-green  { --bg-main: #f2f6f4; --accent: #5f7f78; }
.theme-mono   { --bg-main: #f4f4f4; --accent: #444444; }

@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&family=Nunito:wght@600;800&display=swap');
        
        body {
            font-family: 'Nunito', 'Noto Sans TC', sans-serif;
            background-color: var(--bg-main); /* wool-50 */
            color: #4b5563;
            -webkit-tap-highlight-color: transparent;
        }

        /* 隱藏捲軸但保留功能 */
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* 針織背景紋理 (CSS Pattern) */
        .bg-knit-pattern {
            background-color: var(--bg-main);
            background-image: url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1h2v2H1V1zm4 0h2v2H5V1zm4 0h2v2H9V1zm4 0h2v2h-2V1zm4 0h2v2h-2V1zM1 5h2v2H1V5zm4 0h2v2H5V5zm4 0h2v2H9V5zm4 0h2v2h-2V5zm4 0h2v2h-2V5zM1 9h2v2H1V9zm4 0h2v2H5V9zm4 0h2v2H9V9zm4 0h2v2h-2V9zm4 0h2v2h-2V9zM1 13h2v2H1v-2zm4 0h2v2H5v-2zm4 0h2v2H9v-2zm4 0h2v2h-2v-2zm4 0h2v2h-2v-2z' fill='%23e5d3b0' fill-opacity='0.15' fill-rule='evenodd'/%3E%3C/svg%3E");
        }

        .grid-cell {
            transition: all 0.1s ease;
        }
        .grid-cell:active {
            transform: scale(0.9);
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fadeIn 0.3s ease-out forwards;
        }

        @keyframes bounce-gentle {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }
        .alert-active {
            animation: bounce-gentle 1s infinite;
        }
        
        /* Modal Overlay */
        .modal-overlay {
            background-color: rgba(122, 82, 48, 0.2); /* wool-800 with opacity */
            backdrop-filter: blur(4px);
        }

        /* Mobile Bottom Nav Fix */
        .pb-safe {
            padding-bottom: env(safe-area-inset-bottom);
        }
